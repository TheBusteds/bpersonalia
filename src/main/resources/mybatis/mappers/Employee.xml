<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.bareng.hr.back.repository.EmployeeRepository">
	<select id="findAll" resultMap="employeeResult">
		<![CDATA[
		SELECT * FROM tb_employee emp
		]]>
	</select>
	<select id="findOne" parameterType="int">
		<![CDATA[
		SELECT * FROM tb_employee emp
		WHERE emp.id = #{id}
		]]>
	</select>
	<select id="exists" resultType="boolean" parameterType="int">
		<![CDATA[
		SELECT COUNT(emp.id)>0 FROM tb_employee emp 
		WHERE emp.id = #{id}
		]]>
	</select>
	<select id="countAll" resultType="long" parameterType="int">
		<![CDATA[
		SELECT COUNT(emp.id) FROM tb_employee emp
		]]>
	</select>
	
	<resultMap type="Employee" id="employeeResult">
		<constructor>
			<arg column="id" />
		</constructor>
		<id column="id" property="id" />
		<result column="name" property="name" />
		<result column="remarks" property="remarks" />
		<association property="parent" resultMap="employeeResult" />
	</resultMap>
</mapper>